<!DOCTYPE html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->


<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="lib/simpleRequire.js"></script>
        <script src="lib/config.js"></script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/facePrint.js"></script>
        <script src="lib/testHelper.js"></script>
        <!-- <script src="ut/lib/canteen.js"></script> -->
        <link rel="stylesheet" href="lib/reset.css" />
    </head>
    <body>
        <style>
        </style>



        <div id="main0"></div>





        <!-- <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script> -->
        <script>
        require([
            'echarts',
        ], function (echarts) {

            var option;

            option = {
                animation: false,
                "xAxis": {
                    "type": "category",
                    "data": ["2018FY", "2019FY", "2020FY", "2021FY", "2022FY"],
                    axisLabel: {show: false}
                },
                "yAxis": {
                    "type": "value",
                    axisLabel: {show: false}
                },
                "series": [
                    {
                        "type": "bar",
                        "name": "总营收（万美元）",
                        "data": [111, 222, 3333, 444, 555],
                        "label": {
                            "show": true,
                            "position": "top"
                        }
                    }
                ]
            };;

            var chart = testHelper.create(echarts, 'main0', {
                title: [
                    'Test Case Description of main0',
                    '(Muliple lines and **emphasis** are supported in description)'
                ],
                option: option,
                renderer: 'svg',
                // height: 300,
                // buttons: [{text: 'btn-txt', onclick: function () {}}],
                // recordCanvas: true,
            });
        });
        </script>


<hr></hr>

<button id="try">try</button>


<div id="container" style="position: relative; height: 500px;">
<svg
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  version="1.1"
  baseProfile="full"
  width="430"
  height="400"
  style="position: absolute; left: 0; top: 0; user-select: none"
>
  <rect width="430" height="400" x="0" y="0" id="0" fill="none"></rect>
  <g id="gg">
    <path d="M43 330.5L387 330.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 291.5L387 291.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 253.5L387 253.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 214.5L387 214.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 175.5L387 175.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 137.5L387 137.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 98.5L387 98.5" fill="none" stroke="#E0E6F1"></path>
    <path d="M43 60.5L387 60.5" fill="none" stroke="#E0E6F1"></path>
    <path
      d="M43 330.5L387 330.5"
      fill="none"
      stroke="#6E7079"
      stroke-linecap="round"
    ></path>
    <path d="M43.5 330L43.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M112.5 330L112.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M180.5 330L180.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M249.5 330L249.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M318.5 330L318.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M387.5 330L387.5 335" fill="none" stroke="#6E7079"></path>
    <path d="M53.664 330l47.472 0l0 -8.5629l-47.472 0Z" fill="#5470c6"></path>
    <path d="M122.464 330l47.472 0l0 -17.1257l-47.472 0Z" fill="#5470c6"></path>
    <path
      d="M191.264 330l47.472 0l0 -257.1171l-47.472 0Z"
      fill="#5470c6"
    ></path>
    <path d="M260.064 330l47.472 0l0 -34.2514l-47.472 0Z" fill="#5470c6"></path>
    <path d="M328.864 330l47.472 0l0 -42.8143l-47.472 0Z" fill="#5470c6"></path>
    <text
      dominant-baseline="central"
      text-anchor="middle"
      style="font-size: 12px; font-family: sans-serif"
      y="-6"
      transform="translate(77.4 316.4371)"
      fill="#333"
      stroke="rgb(255,255,255)"
      stroke-width="2"
      paint-order="stroke"
      stroke-miterlimit="2"
    >
      111
    </text>
    <text
      dominant-baseline="central"
      text-anchor="middle"
      style="font-size: 12px; font-family: sans-serif"
      y="-6"
      transform="translate(146.2 307.8743)"
      fill="#333"
      stroke="rgb(255,255,255)"
      stroke-width="2"
      paint-order="stroke"
      stroke-miterlimit="2"
    >
      222
    </text>
    <text
      dominant-baseline="central"
      text-anchor="middle"
      style="font-size: 12px; font-family: sans-serif"
      y="-6"
      transform="translate(215 67.8829)"
      fill="#333"
      stroke="rgb(255,255,255)"
      stroke-width="2"
      paint-order="stroke"
      stroke-miterlimit="2"
    >
      3333
    </text>
    <text
      dominant-baseline="central"
      text-anchor="middle"
      style="font-size: 12px; font-family: sans-serif"
      y="-6"
      transform="translate(283.8 290.7486)"
      fill="#333"
      stroke="rgb(255,255,255)"
      stroke-width="2"
      paint-order="stroke"
      stroke-miterlimit="2"
    >
      444
    </text>
    <text
      dominant-baseline="central"
      text-anchor="middle"
      style="font-size: 12px; font-family: sans-serif"
      y="-6"
      transform="translate(352.6 282.1857)"
      fill="#333"
      stroke="rgb(255,255,255)"
      stroke-width="2"
      paint-order="stroke"
      stroke-miterlimit="2"
    >
      555
    </text>
  </g>
</svg>

</div>



<hr></hr>
<button id="clone">clone</button>

<div id="clone-target" style="position: relative; height: 400px;"></div>

<script>

    const btn = document.getElementById('try');
    const container = document.getElementById('container');

    function prepare() {
        const allText = container.getElementsByTagName('text');
        const list = [];
        for (var i = 0; i < allText.length; i++) {
            list.push(allText[i]);
        }
        return list;
    }

    const textList = prepare();

    btn.onclick = function () {
        for (var i = 0; i < textList.length; i++) {
            const li = textList[i];
            li.parentNode.removeChild(li);
        }

        const group = document.getElementById('gg');

        for (var i = 0; i < textList.length; i++) {
            const li = textList[i];
            group.appendChild(li);
        }
    };

    const cloneBtn = document.getElementById('clone');
    cloneBtn.onclick = function () {
        const ecDom = document.querySelector('div[_echarts_instance_]');
        console.log(ecDom);
        const svgDom = ecDom.getElementsByTagName('svg')[0];
        const content = svgDom.outerHTML;
        console.log(content);
        const cloneTargetDom = document.getElementById('clone-target');
        cloneTargetDom.innerHTML = content;
    };

</script>



    </body>
</html>

